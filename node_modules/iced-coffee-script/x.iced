
foo = (i, cb) ->
  for j in [100...4] by -1
   for k in [100...j] by -2
     console.log j + " " + k
     await setTimeout defer(), i*10
  cb i

main = () ->
  await foo 10, defer i
  console.log i

main()
